<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit NCR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../../css/Main-Page.css">
    <link rel="stylesheet" href="../../css/create-ncr.css">
    <link rel="stylesheet" href="../../css/viewNCR.css"> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Alan+Sans:wght@300..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
        rel="stylesheet">
</head>

<body class="page-container">
   <aside class="sidebar">
  <div class="sidebar-content">
    <div class="sidebar-logo">
      <a href="../home.html" class="logo-image">
        <img src="../../Images/crossfire-logo.png" alt="CrossFire NCR System Logo" style="width: auto; height: 80%;">
      </a>
    </div>
    <hr>
    <ul class=siderbar-items>
      <li class="siderbar-item">
        <a href="../../html/home.html" class="menu-link">Home</a>
      </li>
      <li class="siderbar-item">
        <a href="../../html/Sidebar/dashboard.html" class="menu-link ">Dashboard</a>
      </li>
      <li class="siderbar-item">
        <a href="../../html/Sidebar/create-ncr.html" class="menu-link">Create NCR</a>
      </li>
      <li class="siderbar-item">
        <a href="../../html/Sidebar/admin.html" class="menu-link">Admin Page</a>
      </li>
      <li class="siderbar-item">
        <details class="dropdown-menu">
          <summary class="dropdown-toggle">
            <span class="dropdown-label">Help & About</span>
            <span class="dropdown-arrow"></span>
          </summary>
          <ul class="dropdown-items">
            <li>
              <a href="../Sidebar/help-about.html" class="dropdown-link">About This Project</a>
            </li>
            <li>
              <a href="../Sidebar/help-usage.html" class="dropdown-link">How To Use</a>
            </li>
            <li>
              <a href="../Sidebar/help-contacts.html" class="dropdown-link">Contact & Support</a>
            </li>
          </ul>
        </details>
      </li>
    </ul>
  </div>

  <div class="sidebar-footer">
    <a href="../Sidebar/help-contacts.html" class="help-link">Support</a>
  </div>
</aside>

<div class="page-content">
  <header class="main-header">
    <div class="header-content">
      <a href="#" class="header-title">
        <h1 class="page-title">Edit NCR</h1>
      </a>
      <nav class="header-navigation">
        <ul class="header-links">
          <li class="account-info">
            <p class="account-name"><strong class="account-label">Account</strong></p>
          </li>
        </ul>
      </nav>
    </div>
  </header>

        <main class="flex-1 p-6">
            <div class="max-w-4xl mx-auto">
                
                <div class="card pad mb-5">
                    <label for="roleSelector" style="font-weight: 700;">Simulate User Role:</label>
                    <select id="roleSelector" class="input">
                        <option value="QA">Quality Assurance (Can edit QA)</option>
                        <option value="ENGINEER">Engineering Manager (Can edit Engineering)</option>
                        <option value="Operational Manager">Procurement (Can edit Purchasing)</option>
                    </select>
                    <small class="text-sm text-gray-500 mt-2 block">
                        Changing this simulates login and controls which sections are editable.
                    </small>
                </div>
                <section id="view-edit">
                    <form id="ncrForm" novalidate>
<!-- Q A Section -->
                        <details open class="card mb-5" data-section-role="qa-section" style="padding: 0;">
                            <summary class="section-header" style="list-style: none; display: flex; justify-content: space-between; padding: 8px 16px;">
                                <h2 style="font-size: 1.125rem; font-weight: 700; color: white; margin: 0;">Quality Representative</h2>
                                <span style="font-size: 0.8em; transform: rotate(180deg);">&#9650;</span>
                            </summary>

                            <div style="padding: 18px;">
                                
                                <div class="row">
                                    <div class="field-box">
                                        <label for="processApplicable" class="field-label">Identify Process Applicable</label>
                                        <select id="processApplicable" name="processApplicable" class="input" style="padding: 4px 6px;">
                                            <option value="">Select…</option>
                                            <option value="Supplier or Rec-Insp" selected>Supplier or Rec-Insp</option>
                                            <option value="WIP (Production Order)">WIP (Production Order)</option>
                                        </select>
                                    </div>
                                    <div class="field-box">
                                        <label for="supplierName" class="field-label">Supplier Name</label>
                                        <input id="supplierName" name="supplierName" class="input" type="text" value="ABC Components" style="padding: 4px 6px;"/>
                                    </div>
                                    <div class="field-box">
                                        <label for="ncrNumber" class="field-label">NCR/PO/SO</label>
                                        <input id="ncrNumber" name="ncrNumber" class="input mb-2" type="text" value="NCR-2025-011" readonly style="padding: 4px 6px;"/>
                                        <input id="poOrProdNo" name="poOrProdNo" class="input mb-2" type="text" value="PO-1013" style="padding: 4px 6px;"/>
                                        <input id="salesOrderNo" name="salesOrderNo" class="input" type="text" value="SO-0613" style="padding: 4px 6px;"/>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="field-box" style="flex: 2;">
                                        <label for="itemDescriptionSAP" class="field-label">Description of Item (including SAP No.)</label>
                                        <input id="itemDescriptionSAP" name="itemDescriptionSAP" class="input" type="text" value="LED Ring Light + Phone Holder" style="padding: 4px 6px;"/>
                                    </div>
                                    <div class="field-box" style="flex: 1;">
                                        <label for="qtyReceived" class="field-label">Quantity Received</label>
                                        <input id="qtyReceived" name="qtyReceived" class="input" type="number" value="100" style="padding: 4px 6px;"/>
                                    </div>
                                    <div class="field-box" style="flex: 1;">
                                        <label for="qtyDefective" class="field-label">Quantity Defective</label>
                                        <input id="qtyDefective" name="qtyDefective" class="input" type="number" value="10" style="padding: 4px 6px;"/>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="field-box" style="flex: 1 1 100%; min-height: 120px;">
                                        <label for="defectDescription" class="field-label">Description of Defect</label>
                                        <textarea id="defectDescription" name="defectDescription" class="input" rows="3" style="padding: 4px 6px;">Mobile phone clip is broken, and USB cable is frayed.</textarea>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="field-box">
                                        <label class="field-label">Item marked Nonconforming</label>
                                        <div id="itemMarkedNonconformingGroup" role="radiogroup" class="input" style="padding: 4px 6px; border: none; background: transparent;">
                                            <label for="mark-yes"><input id="mark-yes" type="radio" name="itemMarkedNonconforming" value="Yes" checked /> Yes</label>
                                            <label for="mark-no"><input id="mark-no" type="radio" name="itemMarkedNonconforming" value="No" /> No</label>
                                        </div>
                                    </div>
                                    <div class="field-box">
                                        <label for="fileNCR" class="field-label">Attachment Upload</label>
                                        <input type="file" id="fileNCR" multiple class="Input" style="padding: 4px 6px; border: none;">
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="field-box">
                                        <label for="reportedBy" class="field-label">Quality Representative's Name</label>
                                        <input id="reportedBy" name="reportedBy" class="input" type="text" value="Miranda Smith" style="padding: 4px 6px;"/>
                                    </div>
                                    <div class="field-box">
                                        <label for="status" class="field-label">Status</label>
                                        <select id="status" name="status" class="input" style="padding: 4px 6px;">
                                            <option>Open</option>
                                            <option selected>Closed</option>
                                        </select>
                                    </div>
                                    <div class="field-box">
                                        <label for="dateReported" class="field-label">Date Reported</label>
                                        <input id="dateReported" name="dateReported" class="input" type="date" value="2025-11-04" style="padding: 4px 6px;"/>
                                    </div>
                                </div>

                                <div class="actions mt-5" style="text-align: right;">
                                    <button type="button" class="btn" id="btnCancel">Cancel</button>
                                    <button type="submit" class="btn primary">Save Changes</button>
                                </div>
                            </div>
                        </details>
 <!-- Engineering Section -->
                        <details class="card mb-5" data-section-role="eng-section" style="padding: 0;">
                            <summary class="section-header" style="list-style: none; display: flex; justify-content: space-between; padding: 8px 16px; background-color:#58a899">
                                <h2 style="font-size: 1.125rem; font-weight: 700; color: white; margin: 0; " >Engineering</h2>
                                <span style="font-size: 0.8em;">&#9660;</span>
                            </summary>

                            <div style="padding: 18px;">
                                
                                <div class="row">
                                    <div class="field-box" style="flex: auto;">
                                        <label for="cfEngDisposition" class="field-label">Review by CF Engineering: (Check one)</label>
                                        <div id="cfEngDispositionGroup" role="radiogroup" class="input two-col" style="padding: 4px 6px; border: none;">
                                            <label for="disp-use-as-is"><input type="radio" id="disp-use-as-is" name="cfEngDisposition" value="Use As Is"> Use As Is</label>
                                            <label for="disp-repair"><input type="radio" id="disp-repair" name="cfEngDisposition" value="Repair"> Repair</label>
                                            <label for="disp-rework"><input type="radio" id="disp-rework" name="cfEngDisposition" value="Rework" checked> Rework</label>
                                            <label for="disp-scrap"><input type="radio" id="disp-scrap" name="cfEngDisposition" value="Scrap"> Scrap</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="field-box" style="flex: 2;">
                                        <label for="dispositionDetails" class="field-label">Disposition <span class="opt">(Sequence of work steps required)</span></label>
                                        <textarea id="dispositionDetails" name="dispositionDetails" class="input" rows="4" style="padding: 4px 6px;">1. Remove defective phone holder clips. 2. Install new phone holder clips. 3. Test USB cable functionality.</textarea>
                                    </div>
                                    <div class="field-box" style="flex: 1;">
                                         <label for="reqNotif" class="field-label">Does Customer require notification of NCR?</label>
                                        <div class="checkbox-group input" style="padding: 4px 6px; border: none;">
                                            <label for="reqNotif-yes"><input type="radio" id="reqNotif-yes" name="reqNotif" value="Yes"> Yes</label>
                                            <label for="reqNotif-no"><input type="radio" id="reqNotif-no" name="reqNotif" value="No" checked> No</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="field-box">
                                        <label for="reqUpdating" class="field-label">Does the drawing require updating</label>
                                        <div class="checkbox-group input" style="padding: 4px 6px; border: none;">
                                            <label for="reqUpdating-yes"><input type="radio" id="reqUpdating-yes" name="reqUpdating" value="Yes"> Yes</label>
                                            <label for="reqUpdating-no"><input type="radio" id="reqUpdating-no" name="reqUpdating" value="No" checked> No</label>
                                        </div>
                                    </div>
                                    <div class="field-box">
                                        <label for="origRevNum" class="field-label">Original Rev. Number</label>
                                        <input type="text" id="origRevNum" name="origRevNum" class="input" value="REV-3030" style="padding: 4px 6px;">
                                    </div>
                                    <div class="field-box">
                                        <label for="updatedRev" class="field-label">Updated Rev. Number</label>
                                        <input type="text" id="updatedRev" name="updatedRev" class="input" value="REV-3031" style="padding: 4px 6px;">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="field-box">
                                        <label for="enginName" class="field-label">Name of Engineer</label>
                                        <input type="text" id="enginName" name="enginName" class="input" value="Hugh Johnson" required style="padding: 4px 6px;">
                                    </div>
                                    <div class="field-box">
                                        <label for="engDate" class="field-label">Date (Engineering Final Date)</label>
                                        <input type="date" id="engDate" name="engDate" class="input" value="2025-10-11" required style="padding: 4px 6px;">
                                    </div>
                                </div>
                                
                                <div class="actions mt-5" style="text-align: right;">
                                    <button type="button" class="btn" id="btnCancel">Cancel</button>
                                    <button type="submit" class="btn primary">Save Changes</button>
                                </div>
                            </div>
                        </details>

 <!-- Purchasing Section -->
                        <details class="card mb-5" data-section-role="proc-section" style="padding: 0;">
                            <summary class="section-header" style="list-style: none; display: flex; justify-content: space-between; padding: 8px 16px; background-color:#497ba1;">
                                <h2 style="font-size: 1.125rem; font-weight: 700; color: white; margin: 0;">Purchasing</h2>
                                <span style="font-size: 0.8em;">&#9660;</span>
                            </summary>

                            <div style="padding: 18px;">
                                <div class="row">
                                    <div class="field-box" style="flex: auto;">
                                        <label for="purchDecision" class="field-label">Purchasing's Preliminary Decision:</label>
                                        <div id="purchDecisionGroup" role="radiogroup" class="input two-col" style="padding: 4px 6px; border: none;">
                                            <label for="purch-rework-in-house"><input type="radio" id="purch-rework-in-house" name="purchDecision" value="Rework In-House" checked> Rework "In-House"</label>
                                            <label for="purch-return-supplier"><input type="radio" id="purch-return-supplier" name="purchDecision" value="Return to Supplier"> Return to Supplier for either "rework" or "replacement"</label>
                                            <label for="purch-scrap"><input type="radio" id="purch-scrap" name="purchDecision" value="Scrap in House"> Scrap in House</label>
                                            <label for="purch-defer"><input type="radio" id="purch-defer" name="purchDecision" value="Defer for HBC Engineering Review"> Defer for HBC Engineering Review</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="field-box">
                                        <label for="carRaised" class="field-label">Was a CAR raised?</label>
                                        <div class="checkbox-group input" style="padding: 4px 6px; border: none;">
                                            <label for="carRaised-yes"><input type="radio" id="carRaised-yes" name="carRaised" value="Yes"> Yes</label>
                                            <label for="carRaised-no"><input type="radio" id="carRaised-no" name="carRaised" value="No" checked> No</label>
                                        </div>
                                    </div>
                                    <div class="field-box">
                                        <label for="carNumber" class="field-label">If "Yes" indicate CAR #</label>
                                        <input type="text" id="carNumber" name="carNumber" class="input" value="" style="padding: 4px 6px;">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="field-box">
                                        <label for="followUpRequired" class="field-label">Follow-up Required?</label>
                                        <div class="checkbox-group input" style="padding: 4px 6px; border: none;">
                                            <label for="followUpRequired-yes"><input type="radio" id="followUpRequired-yes" name="followUpRequired" value="Yes"> Yes</label>
                                            <label for="followUpRequired-no"><input type="radio" id="followUpRequired-no" name="followUpRequired" value="No" checked> No</label>
                                        </div>
                                    </div>
                                    <div class="field-box">
                                        <label for="followUpDetails" class="field-label">If "Yes" indicate type & expected date</label>
                                        <input type="text" id="followUpDetails" name="followUpDetails" class="input" value="" style="padding: 4px 6px;">
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="field-box">
                                        <label for="operationsManager" class="field-label">Operations Manager Name</label>
                                        <input type="text" id="operationsManager" name="operationsManager" class="input" value="Linda Brown" required style="padding: 4px 6px;">
                                    </div>
                                    <div class="field-box">
                                        <label for="operationsManagerDate" class="field-label">Date</label>
                                        <input type="date" id="operationsManagerDate" name="operationsManagerDate" class="input" value="2025-10-11" required style="padding: 4px 6px;">
                                    </div>
                                </div>
                                

                                <div class="actions mt-5" style="text-align: right;">
                                    <button type="button" class="btn" id="btnCancel">Cancel</button>
                                    <button type="submit" class="btn primary" onclick="openSubmitModel()">Save Changes</button>
                                </div>
                            </div>
                        </details>


                        <details class="card mb-5" data-section-role="qa-section" style="padding: 0;">
                            <summary class="section-header" style="list-style: none; display: flex; justify-content: space-between; padding: 8px 16px;">
                                <h2 style="font-size: 1.125rem; font-weight: 700; color: white; margin: 0;">Final Review </h2>
                                <span style="font-size: 0.8em;">&#9660;</span>
                            </summary>

                            <div style="padding: 18px;">
                                <div class="row">
                                    <div class="field-box">
                                        <label for="reInspectAcceptable" class="field-label">Re-Inspected Acceptable?</label>
                                        <div class="checkbox-group input" style="padding: 4px 6px; border: none;">
                                            <label for="reInspectAcceptable-yes"><input type="radio" id="reInspectAcceptable-yes" name="reInspectAcceptable" value="Yes" checked> Yes</label>
                                            <label for="reInspectAcceptable-no"><input type="radio" id="reInspectAcceptable-no" name="reInspectAcceptable" value="No"> No</label>
                                        </div>
                                    </div>
                                    <div class="field-box">
                                        <label for="newNcrNumber" class="field-label">New NCR Number <span class="opt">(If Re-Inspect is No)</span></label>
                                        <input type="text" id="newNcrNumber" name="newNcrNumber" class="input" value="" style="padding: 4px 6px;">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="field-box">
                                        <label for="inspectorName" class="field-label">Inspector's Name</label>
                                        <input type="text" id="inspectorName" name="inspectorName" class="input" value="John Doe" required style="padding: 4px 6px;">
                                    </div>
                                    <div class="field-box">
                                        <label for="inspectorDate" class="field-label">Date</label>
                                        <input type="date" id="inspectorDate" name="inspectorDate" class="input" value="2025-10-15" required style="padding: 4px 6px;">
                                    </div>
                                </div>

                                <div class="row">
                                     <div class="field-box">
                                        <label for="ncrClosed" class="field-label">NCR Closed</label>
                                        <div class="checkbox-group input" style="padding: 4px 6px; border: none;">
                                            <label for="ncrClosed-yes"><input type="radio" id="ncrClosed-yes" name="ncrClosed" value="Yes" checked> Yes</label>
                                            <label for="ncrClosed-no"><input type="radio" id="ncrClosed-no" name="ncrClosed" value="No"> No</label>
                                        </div>
                                    </div>
                                    <div class="field-box">
                                        <label for="qualityDepartment" class="field-label">Quality Department</label>
                                        <input type="text" id="qualityDepartment" name="qualityDepartment" class="input" value="QD-1" required style="padding: 4px 6px;">
                                    </div>
                                    <div class="field-box">
                                        <label for="qualityDepartmentDate" class="field-label">Date (NCR Closed Date)</label>
                                        <input type="date" id="qualityDepartmentDate" name="qualityDepartmentDate" class="input" value="2025-10-16" required style="padding: 4px 6px;">
                                    </div>
                                </div>

                                <div class="actions mt-5" style="text-align: right;">
                                    <button type="button" class="btn" id="btnCancelFinal">Cancel</button>
                                    <button type="submit" class="btn-action" onclick="openSubmitModel()">Save Final Review</button>

                                  <div id="submitModal" class="hidden fixed inset-0 z-50 grid place-content-center bg-black/50 p-4"
                                       role="dialog" aria-modal="true" aria-labelledby="modalTitle">
                                    <div id="modalSubmitBox" class="w-full max-w-md rounded-lg bg-white p-6 shadow-lg"
                                         onclick="event.stopPropagation()">
                                      <h2 id="submitModalTitle" class="text-xl font-bold text-gray-900 sm:text-2xl">Your work submitted. Good job!</h2>

                                      <div class="mt-4">
                                        <p class="text-pretty text-gray-700">
                                          Rest assured, your work is saved.
                                        </p>
                                      </div>
                                    </div>
                                  </div>

                                </div>
                            </div>
                        </details>
                        </form>
                </section>
            </div>
        </main>
            <footer class="left-64 right-0 bg-white border-t border-gray-200 py-2.5 z-10">
      <div class="flex flex-col items-center justify-center gap-3 text-center py-3">
        <ul class="flex flex-wrap justify-center gap-3 text-xs">
          <li><a href="#" class="text-gray-500 hover:opacity-75">Terms & Conditions</a></li>
          <li><a href="#" class="text-gray-500 hover:opacity-75">Privacy Policy</a></li>
        </ul>
        <p class="text-gray-500 text-xs">© CrossFire NCR. All Rights Reserved.</p>
      </div>
    </footer>
      <script defer src="../../Scripts/app.js"></script>
      <script>
        document.addEventListener('DOMContentLoaded', () => {
          let submitModal = document.getElementById('submitModal')

          window.openSubmitModel = function () {
            submitModal.classList.remove('hidden');
            submitModal.addEventListener('click', handleOutsideClick);
          }

          window.closeSubmitModel = function () {
            submitModal.classList.add('hidden');
            submitModal.addEventListener('click', handleOutsideClick);
          }

          function handleOutsideClick(e) {
            if (e.target === submitModal){
              closeSubmitModel();
              window.location.href = './Dashboard.html';
            }
          }
        })
      </script>
    </div>
</body>

</html>